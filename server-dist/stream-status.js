var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _obsWebsocketJs=_interopRequireDefault(require("obs-websocket-js"));var obs=new _obsWebsocketJs.default();var connected=false;obs.on("ConnectionOpened",function(){console.log("opened");});obs.on("ConnectionClosed",function(){console.log("closed");connected=false;});var tick=function tick(){var status;return _regenerator.default.async(function tick$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(connected){_context.next=6;break;}console.log("connecting");_context.next=5;return _regenerator.default.awrap(obs.connect({address:"10.9.168.63:4444",password:"lkyrti"}));case 5:connected=true;case 6:_context.next=8;return _regenerator.default.awrap(obs.send("GetStreamingStatus"));case 8:status=_context.sent;console.log(JSON.stringify(status,null,2));setTimeout(tick,1000);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](0);console.log(_context.t0);setTimeout(tick,1000);case 17:case"end":return _context.stop();}}},null,null,[[0,13]],Promise);};tick();